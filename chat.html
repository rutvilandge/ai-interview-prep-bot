<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Interview Practice</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Markdown Parser for AI Feedback -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link rel="stylesheet" href="js/style.css">

  <script type="module" src="js/supabase.js"></script>
  <script type="module" src="js/auth.js"></script>
  <script type="module" src="js/chat.js" defer></script>
</head>

<body class="bg-gray-950 text-white min-h-screen selection:bg-indigo-500 selection:text-white">

  <!-- Background Glow -->
  <div class="fixed inset-0 -z-10 h-full w-full bg-gray-950 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#4f46e5_100%)] opacity-30"></div>

  <!-- Navbar -->
  <nav class="sticky top-0 z-50 flex justify-between items-center px-8 py-5 border-b border-white/5 bg-gray-950/60 backdrop-blur-xl">
    <h1 class="text-xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-cyan-400">INTERVIEW PREP AI</h1>
    <button id="logout-btn" class="text-red-400 hover:text-red-500 transition font-medium">Logout</button>
  </nav>

  <!-- Chat Area -->
  <main class="max-w-4xl mx-auto p-8">

    <!-- Interview Type -->
    <p id="interview-type" class="text-sm text-gray-400 mb-4"></p>

    <!-- Question -->
    <div class="bg-white/5 border border-white/10 rounded-2xl p-8 mb-8 backdrop-blur-sm shadow-xl">
      <div class="flex justify-between items-center mb-2">
        <h2 class="text-lg font-semibold text-indigo-300">Question</h2>
        <span id="timer" class="text-indigo-400 font-mono font-bold text-lg">00:00</span>
      </div>
      <p id="question-text" class="text-gray-300 whitespace-pre-wrap">
        Loading question...
      </p>
    </div>

    <!-- Answer -->
    <div class="bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-sm shadow-xl">
      <h2 class="text-lg font-semibold mb-4 text-indigo-300">Your Answer</h2>

      <textarea
        id="answer-input"
        rows="6"
        class="w-full bg-gray-950/50 border border-white/10 rounded-xl p-4 text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition resize-none"
        placeholder="Type your answer here..."
      ></textarea>

      <button
        id="submit-answer"
        class="mt-6 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 text-white font-bold px-8 py-3 rounded-xl transition shadow-lg shadow-indigo-500/20 transform hover:scale-[1.02]"
      >
        Submit Answer
      </button>
    </div>

    <!-- AI Feedback -->
    <div
      id="feedback-box"
      class="hidden mt-8 bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-sm shadow-xl border-l-4 border-l-green-500"
    >
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-lg font-semibold text-green-400">AI Feedback</h2>
        <button id="copy-feedback-btn" class="text-sm text-gray-400 hover:text-white transition flex items-center gap-2 bg-white/5 px-3 py-1 rounded-lg hover:bg-white/10">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
          </svg>
          Copy
        </button>
      </div>
      <div id="feedback-text" class="text-gray-300 space-y-2 leading-relaxed"></div>

      <button
        id="next-question-btn"
        class="mt-6 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold px-8 py-3 rounded-xl transition shadow-lg shadow-emerald-500/20 transform hover:scale-[1.02]"
      >
        Next Question
      </button>
    </div>
  </main>

</body>
</html>
